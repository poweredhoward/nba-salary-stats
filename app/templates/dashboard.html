<!DOCTYPE html>
<html>
    <body>
        <h1>
            Analyze NBA Players' Stats and Salaries
        </h1>

        <p>
            Scatterplot
            <select id="scatterplot_field">
                {% for key, value in stat_options %}
                    <option value="{{value}}">{{key}}</option>
                {% endfor %}
            </select>
            <button id="get_scatterplot" onclick="getScatterplot()">
                Generate
            </button>
            <img id="scatterplot" src="static/plot.png">
        </p>

        <p>
            Box Plot
        </p>

        <p>
            Heatmap
        </p>

        <button id="seed_data" onclick="seedFunction()">
            Seed DB
        </button>
    </body>

    <script>

        function getScatterplot () {
            let stat_selected = document.getElementById("scatterplot_field").value

            let params = {
                "stat_selected": stat_selected
            }

            post("/getVisual/scatterplot", params).then(data => {
                console.log(data)
                document.getElementById("scatterplot").src = data['filename'];
            })            
        }


        function seedFunction(){
            console.log("seed")
            fetch("/seed/6516854352asdffsdg").then( function(res) {
                console.log("worked")
                return res.json()
            })
        }



        async function post(url, data){
            const response = await fetch(
                url,
                {method: "POST", body: JSON.stringify(data)}
            );

            if (response.ok){
                return response.json()
            }
             
        }

    </script>
</html>